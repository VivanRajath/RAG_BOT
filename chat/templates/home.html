{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RAG_BOT| Upload Document</title>
  <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-left">
      <a href="{% url 'home' %}" class="brand">RAG_Bot</a>
    </div>
    <div class="navbar-right">
      {% if user.is_authenticated %}
        <span class="welcome">ðŸ‘‹ Welcome, {{ user.username }}</span>
        <a href="{% url 'logout' %}" class="btn">Logout</a>
      {% else %}
        <a href="{% url 'login' %}" class="btn">Login</a>
        <a href="{% url 'signup' %}" class="btn">Sign Up</a>
      {% endif %}
    </div>
  </nav>

  <!-- Main Content -->
  <main class="container">
    <section class="upload-section">
      <h1>Upload a Document</h1>

      <form method="POST" enctype="multipart/form-data" class="upload-form">
        {% csrf_token %}
        <input type="file" name="uploaded_file" required>
        <button type="submit" class="btn-primary">Upload</button>
      </form>

      {% comment %} {% if not user.is_authenticated %}
        <p class="note">
          You can upload documents without logging in, but your chats wonâ€™t be saved.  
          <br>ðŸ‘‰ <a href="{% url 'login' %}">Login</a> or <a href="{% url 'signup' %}">Sign up</a> to save your chats.
        </p>
      {% endif %} {% endcomment %}
    </section>

    {% comment %} <section class="files-section">
      <h2>Uploaded Files</h2>
      <ul class="file-list">
        {% for file in all_files %}
          <li>
            <a href="{% url 'chat' file.id %}" class="file-link">{{ file.file.name }}</a>
            {% if file.owner %}
              <span class="file-owner">â€” by {{ file.owner.username }}</span>
            {% endif %}
          </li>
        {% empty %}
          <li class="empty">No files uploaded yet.</li>
        {% endfor %}
      </ul>
    </section> {% endcomment %}
  </main>

</body>
</html>
